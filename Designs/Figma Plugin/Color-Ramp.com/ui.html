<header>
  <!-- Color-Ramp logo -->
  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="31" fill="none"><path fill="#0056A6" d="M0 25.03V6.89A5.83 5.83 0 0 1 5.73.96h18.54A5.83 5.83 0 0 1 30 6.89v18.14a5.83 5.83 0 0 1-5.73 5.93H5.73A5.83 5.83 0 0 1 0 25.03Z"/><path fill="#86C5FF" d="M.63 6.89a5.2 5.2 0 0 1 5.1-5.3h18.54a5.2 5.2 0 0 1 5.1 5.3v18.14a5.2 5.2 0 0 1-5.1 5.3H5.73a5.2 5.2 0 0 1-5.1-5.3V6.89Z"/><path fill="#EDF6FF" d="M21.7 6.05a2.3 2.3 0 0 1 3.93 1.63v16.64a2.3 2.3 0 0 1-2.3 2.3H6.67a2.3 2.3 0 0 1-1.63-3.93L21.7 6.05ZM23.31 26h.1-.1Zm-16.7 0h.06-.1.03Zm-.16-.01Zm17.06 0 .07-.01h-.07Zm-17.21-.03Zm17.37 0 .07-.02-.07.02Zm-17.5-.03Zm17.66-.01.05-.02-.05.02Zm-17.77-.03.07.03-.07-.03Zm-.1-.04.05.02-.05-.02Zm18.03 0h.03H24ZM5.85 25.8Zm18.29 0 .05-.03c-.02 0-.03.02-.05.03Zm-18.38-.06.04.02-.04-.02Zm18.52-.03.04-.03-.04.03Zm-18.62-.04Zm-.08-.07.03.03-.03-.03Zm18.82.02.05-.05-.05.05Zm-18.96-.15Zm19.19-.08.02-.03-.02.03ZM5 24.4v.01-.01Zm.02-.35Zm.03-.12-.02.06.02-.06Zm.03-.12-.02.05.02-.05Zm.05-.12Zm.04-.1Zm.06-.1c-.01 0-.02.01-.02.03l.02-.04Zm.07-.12-.03.05c0-.02.02-.03.03-.05Zm.08-.1-.04.04.04-.04Zm.07-.08-.03.03.08-.08-.05.05ZM5.4 25.4l.04.05-.04-.05Zm-.2-.29.03.05-.02-.05Z"/><mask id="a" width="20" height="20" x="5" y="6" maskUnits="userSpaceOnUse" style="mask-type:alpha"><path fill="#333" d="M22.14 6.5A1.68 1.68 0 0 1 25 7.67v16.64c0 .93-.75 1.68-1.68 1.68H6.68c-1.5 0-2.24-1.8-1.19-2.86L22.14 6.49Z"/></mask><g mask="url(#a)"><path fill="#0285FF" d="M5-84h6.67v200H5z"/><path fill="#0056A6" d="M11.67-84h6.67v200h-6.67z"/><path fill="#001D38" d="M18.33-84H25v200h-6.67z"/></g></svg>
  <h1>Import your color ramps!</h1>
</header>

<p>Paste your JSON from Color-Ramp.com below:</p>
<textarea id="json-input" rows="10"
  placeholder="// Paste JSON from Color-Ramp.com&#10;{&#10;  &quot;format&quot;: &quot;…&quot;,&#10;  &quot;collectionName&quot;: &quot;…&quot;,&#10;  …&#10;}"></textarea>

<button id="import-btn">Import Color Ramps! <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
    stroke-linejoin="round" class="lucide lucide-arrow-down-to-line-icon lucide-arrow-down-to-line">
    <path d="M12 17V3" />
    <path d="m6 11 6 6 6-6" />
    <path d="M19 21H5" />
  </svg></button>

<h2>How to use this plugin:</h2>

<ol>
  <li>Visit <a href="https://color-ramp.com" target="_blank">Color-Ramp.com</a></li>
  <li>Choose your color space.</li>
  <li>Generate your color ramps.</li>
  <li>Choose the format you want to import:
    <ul>
      <li>Dual Ramps (Paired or Themed).</li>
      <li>Single Ramp (Light or Dark).</li>
    </ul>
  </li>
  <li>Copy the JSON code.</li>
  <li>Paste the JSON into the text area above.</li>
  <li>Click "Import Color Ramps!".</li>
  <li>Open the Variables panel - Voilá!</li>
</ol>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Next:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Atkinson Hyperlegible Next', sans-serif;
    padding: 20px;
    margin: 0;
    background: linear-gradient(var(--dark-blue-50), var(--dark-black-50));
    color: var(--dark-blue-800);
    font-size: 14px;
  }

  header {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--dark-blue-900);
  }

  h1 {
    padding: 0;
    margin: 0;
    font-size: 26px;
    font-weight: 700;
  }

  p, li, label {
    line-height: 1.3;
  }

  a {
    color: var(--dark-blue-500);
    text-decoration: none;
    transition: .2s ease-in-out;
  }

  a:hover {
    color: var(--dark-yellow-700);
    text-decoration: underline;
  }

  textarea {
    box-sizing: border-box;
    margin-bottom: 16px;
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    font-family: 'Courier New', Courier, monospace;
    font-size: 12px;
    resize: vertical;
  }

  textarea::placeholder {
    color: var(--dark-black-600);
  }

  button#import-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 5px;
    font-family: 'Atkinson Hyperlegible Next', sans-serif;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    color: var(--dark-black-950);
    transition: .2s ease-in-out;
    background: linear-gradient(to right, var(--dark-purple-200), var(--dark-blue-200));
    box-shadow: 0 0 0 var(--dark-transparent-1), inset 0 0 0 1px var(--dark-transparent-25);
  }

  button#import-btn:hover {
    box-shadow: 0 0 10px var(--dark-purple-500), inset 0 0 0 2px var(--dark-transparent-25);
    transform: translateY(-1px) scale(1.01);
  }

  button#import-btn svg {
    width: 20px;
    height: 20px;
  }

  h2 {
    margin-top: 24px;
    border-top: 1px solid var(--dark-transparent-12);
    padding-top: 20px;
    color: var(--dark-blue-900);
  }

  ol, ul {
    padding-left: 20px;
  }

  ul {
    margin-top: 8px;
  }

  li {
    margin-bottom: 6px;
  }

  .toggle-switch-container {
    display: flex;
    align-items: center;
    width: 92%;
    padding-top: 10px;
    position: absolute;
    bottom: 15px;
    left: 15px;
    border-top: 1px solid var(--dark-transparent-12);
  }

  .toggle-label {
    margin-left: 8px;
    font-size: 12px;
    color: var(--dark-blue-950);
    cursor: pointer;
  }

  .switch {
    position: relative;
    display: inline-block;
    width: 34px;
    height: 20px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--dark-black-300);
    transition: .4s;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 14px;
    width: 14px;
    left: 3px;
    bottom: 3px;
    background-color: var(--dark-black-700);
    transition: .4s;
  }

  input:checked + .slider {
    background-color: var(--dark-green-200);
    box-shadow: inset 0 0 0 1px var(--dark-green-400);
  }

  input:checked + .slider:before {
    transform: translateX(14px);
    background-color: var(--dark-green-900);
  }

  .slider.round {
    border-radius: 20px;
  }

  .slider.round:before {
    border-radius: 50%;
  }

  :root {
    --dark-blue-50: #001121;
    --dark-blue-100: #001d38;
    --dark-blue-200: #003f7a;
    --dark-blue-300: #0056a6;
    --dark-blue-400: #006dd3;
    --dark-blue-500: #0285ff;
    --dark-blue-600: #2f9bff;
    --dark-blue-700: #5db1ff;
    --dark-blue-950: #edf6ff;
    --dark-blue-900: #d4eaff;
    --dark-blue-800: #86c5ff;
    --dark-purple-50: #1e001f;
    --dark-purple-100: #370038;
    --dark-purple-200: #650066;
    --dark-purple-300: #8d008f;
    --dark-purple-400: #b600b9;
    --dark-purple-500: #ed00f1;
    --dark-purple-600: #fb2aff;
    --dark-purple-700: #fc62ff;
    --dark-purple-800: #fd91ff;
    --dark-purple-900: #fed4ff;
    --dark-purple-950: #ffedff;
    --dark-green-50: #002300;
    --dark-green-100: #013800;
    --dark-green-200: #028200;
    --dark-green-300: #03b100;
    --dark-green-400: #04da00;
    --dark-green-500: #0dff09;
    --dark-green-600: #3aff37;
    --dark-green-700: #68ff65;
    --dark-green-800: #90ff8e;
    --dark-green-900: #d4ffd4;
    --dark-green-950: #edffed;
    --dark-yellow-50: #252200;
    --dark-yellow-100: #474100;
    --dark-yellow-200: #8b7f00;
    --dark-yellow-300: #b2a300;
    --dark-yellow-400: #e2cf00;
    --dark-yellow-500: #ffeb11;
    --dark-yellow-600: #ffef3f;
    --dark-yellow-700: #fff36d;
    --dark-yellow-800: #fff696;
    --dark-yellow-900: #fffbd4;
    --dark-yellow-950: #fffded;
    --dark-red-50: #1e0303;
    --dark-red-100: #380606;
    --dark-red-200: #6e0c0c;
    --dark-red-300: #961010;
    --dark-red-400: #d31717;
    --dark-red-500: #e93636;
    --dark-red-600: #ee6060;
    --dark-red-700: #f28989;
    --dark-red-800: #f6aeae;
    --dark-red-900: #fce1e1;
    --dark-red-950: #fef8f8;
    --dark-orange-50: #201001;
    --dark-orange-100: #381b00;
    --dark-orange-200: #7a3b00;
    --dark-orange-300: #a65000;
    --dark-orange-400: #d36600;
    --dark-orange-500: #ff7c02;
    --dark-orange-600: #ff942f;
    --dark-orange-700: #ffab5d;
    --dark-orange-800: #ffc086;
    --dark-orange-900: #ffe9d4;
    --dark-orange-950: #fff6ed;
    --dark-black-50: #0d0d0d;
    --dark-black-100: #1e1e1e;
    --dark-black-200: #393939;
    --dark-black-300: #505050;
    --dark-black-400: #6a6a6a;
    --dark-black-500: #838383;
    --dark-black-600: #a2a2a2;
    --dark-black-700: #c1c1c1;
    --dark-black-800: #dadada;
    --dark-black-900: #ececec;
    --dark-black-950: #f9f9f9;
    --dark-transparent-0: rgba(255, 255, 255, 0.00);
    --dark-transparent-1: rgba(255, 255, 255, 0.01);
    --dark-transparent-6: rgba(255, 255, 255, 0.06);
    --dark-transparent-12: rgba(255, 255, 255, 0.12);
    --dark-transparent-25: rgba(255, 255, 255, 0.25);
    --dark-transparent-50: rgba(255, 255, 255, 0.50);
    --dark-transparent-75: rgba(255, 255, 255, 0.75);
    --light-blue-50: #f0f8ff;
    --light-blue-100: #d6ebff;
    --light-blue-200: #b3daff;
    --light-blue-300: #80c2ff;
    --light-blue-400: #4da9ff;
    --light-blue-500: #1a90ff;
    --light-blue-600: #0077e6;
    --light-blue-700: #005cb3;
    --light-blue-800: #004280;
    --light-blue-900: #002547;
    --light-blue-950: #001124;
    --light-purple-50: #fff0ff;
    --light-purple-100: #fed6ff;
    --light-purple-200: #feb3ff;
    --light-purple-300: #fd80ff;
    --light-purple-400: #fc4dff;
    --light-purple-500: #fb1aff;
    --light-purple-600: #e100e6;
    --light-purple-700: #af00b3;
    --light-purple-800: #7d0080;
    --light-purple-900: #460047;
    --light-purple-950: #240023;
    --light-green-50: #f0fff0;
    --light-green-100: #d7ffd6;
    --light-green-200: #b4ffb3;
    --light-green-300: #82ff80;
    --light-green-400: #50ff4d;
    --light-green-500: #1eff1a;
    --light-green-600: #04e600;
    --light-green-700: #04e600;
    --light-green-800: #028000;
    --light-green-900: #014700;
    --light-green-950: #001a01;
    --light-yellow-50: #fffef0;
    --light-yellow-100: #fffcd6;
    --light-yellow-200: #fff9b3;
    --light-yellow-300: #fff480;
    --light-yellow-400: #fff04d;
    --light-yellow-500: #ffec1a;
    --light-yellow-600: #e6d200;
    --light-yellow-700: #b3a300;
    --light-yellow-800: #807500;
    --light-yellow-900: #574f00;
    --light-yellow-950: #292700;
    --light-red-50: #fef1f1;
    --light-red-100: #fcdada;
    --light-red-200: #f9b9b9;
    --light-red-300: #f48a8a;
    --light-red-400: #f05b5b;
    --light-red-500: #ec2d2d;
    --light-red-600: #e51515;
    --light-red-700: #ac1010;
    --light-red-800: #740b0b;
    --light-red-900: #3c0505;
    --light-red-950: #170302;
    --light-orange-50: #fff7f0;
    --light-orange-100: #ffead6;
    --light-orange-200: #ffd7b3;
    --light-orange-300: #ffbd80;
    --light-orange-400: #ffa34d;
    --light-orange-500: #ff881a;
    --light-orange-600: #e66f00;
    --light-orange-700: #b35600;
    --light-orange-800: #803d00;
    --light-orange-900: #472300;
    --light-orange-950: #1a0d00;
    --light-black-50: #f7f7f7;
    --light-black-100: #ebebeb;
    --light-black-200: #d9d9d9;
    --light-black-300: #bfbfbf;
    --light-black-400: #a6a6a6;
    --light-black-500: #8c8c8c;
    --light-black-600: #737373;
    --light-black-700: #595959;
    --light-black-800: #404040;
    --light-black-900: #262626;
    --light-black-950: #131313;
    --light-transparent-0: rgba(13, 13, 13, 0.00);
    --light-transparent-1: rgba(13, 13, 13, 0.01);
    --light-transparent-6: rgba(13, 13, 13, 0.06);
    --light-transparent-12: rgba(13, 13, 13, 0.12);
    --light-transparent-25: rgba(13, 13, 13, 0.25);
    --light-transparent-50: rgba(13, 13, 13, 0.50);
    --light-transparent-75: rgba(13, 13, 13, 0.75);
  }
</style>

<div class="toggle-switch-container">
  <label class="switch">
    <input type="checkbox" id="keepOpen" checked>
    <span class="slider round"></span>
  </label>
  <label for="keepOpen" class="toggle-label">Keep plugin open after import.</label>
</div>

<script>
  document.getElementById('import-btn').onclick = () => {
    const textarea = document.getElementById('json-input');
    const keepOpen = document.getElementById('keepOpen').checked;
    parent.postMessage({ pluginMessage: { type: 'import-variables', json: textarea.value, keepOpen: keepOpen } }, '*')
  }
</script>